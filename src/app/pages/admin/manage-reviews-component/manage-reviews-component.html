
<form class="search-form" (submit)="$event.preventDefault()">
    <i class="fa-solid fa-magnifying-glass"></i>
    <input 
        type="text" 
        (input)="onSearchInput($event)" 
        [ngModel]="currentSearchTerm" 
        name="searchTerm"
        placeholder="Buscar libro por titulo..."
        (keydown.enter)="onSearchSubmit()"
    />
</form>

<div class="book-buttons-container">
    @if(filteredBooks() === undefined) {
        <p>Escribe un título y presiona Enter para buscar libros.</p>
    }
    @for(book of filteredBooks(); track book.id ) {
        <button 
            (click)="onBookSelect(book)"
            [class.selected]="selectedBook()?.id === book.id"
        >
            {{ book.title }}
        </button>
    }
</div>

<div class="reviews-container">
    @if(selectedBook()) {
        <h2>Reseñas para: {{ selectedBook()!.title }}</h2>
        <!--
        @if(!reviews() || reviews!.length < 1) {
            <p>No hay reseñas disponibles</p>
        }
        -->
        <ul class="review-item">
            @for (r of reviews(); track r.idReview) {
                <app-review-item [review]="r"></app-review-item>
            }
        </ul>
    }
</div>
